
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>P7 Chapter 7 Project Seven presentation &#8212; Project Seven</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'chapters/7_qsra_september_2021';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="P7 Chapter 6 Case Study 2 589 Quakers and their family relationships" href="6_quaker_tables.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.jpg" class="logo__image only-light" alt="Project Seven - Home"/>
    <img src="../_static/logo.jpg" class="logo__image only-dark pst-js-only" alt="Project Seven - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Project Seven
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="1_jnb_hddt_intro.html">P7 Chapter 1 - The Human Data digital Toolkit (HDDT)</a></li>




















<li class="toctree-l1"><a class="reference internal" href="2_introduction_sql_tables.html">P7 Chapter 2 The CEDA Members</a></li>






















<li class="toctree-l1"><a class="reference internal" href="3_jnb_ceda_database_views.html">P7 Chapter 3 HDDT Using SQLite database standard ‘views’</a></li>

































<li class="toctree-l1"><a class="reference internal" href="4_jnb_hddt_ceda_dyn_edges.html">P7 Chapter 4 Case Study 1 The Centres for the Emergence of the Discipline of Anthropology (CEDA)</a></li>




























<li class="toctree-l1"><a class="reference internal" href="5a_laidlaw.html">P7 Chapter 5a Thomas Hodgkin MD’s networks - Part one</a></li>



















<li class="toctree-l1"><a class="reference internal" href="5b_jnb_hddt_laidlaw2.html">P7 Chapter 5b Thomas Hodgkin’s MD networks - Part two</a></li>














<li class="toctree-l1"><a class="reference internal" href="6_quaker_tables.html">P7 Chapter 6 Case Study 2 589 Quakers and their family relationships</a></li>






































<li class="toctree-l1 current active"><a class="current reference internal" href="#">P7 Chapter 7 Project Seven presentation</a></li>




















</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">


<a href="https://github.com/KelvinBeerJones/Publish" target="_blank"
   class="btn btn-sm btn-source-repository-button"
   title="Source repository"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/chapters/7_qsra_september_2021.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>P7 Chapter 7 Project Seven presentation</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">P7 Chapter 7 Project Seven presentation</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#thesis-chapter-6-24">Thesis Chapter 6.24</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#an-evidence-based-prosopographical-study-of-3000-activists-1830-1870-and-the-600-quakers-amongst-them">7.1 An Evidence Based Prosopographical study of 3000 activists 1830-1870 and the 600 Quakers amongst them</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#subject">Subject:</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#question-1">Question 1:</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#methodology">Methodology:</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#question-2">Question 2:</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#this-is-a-code-cell">7.2 This is a code cell</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#these-are-the-resources-in-my-container-for-this-exercise">7.3 These are the resources in my container for this exercise</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#resource-containers-are-also-github-repo-s-facilitating-granular-version-control-of-all-changes-made-to-any-resources">Resource containers are also GitHub repo’s facilitating granular version control of all changes made to any resources</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#this-is-the-structure-of-the-sqlite-database-erd">7.4 This is the structure of the SQLite database (ERD)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#relationships-other-then-ceda-present-in-the-data">7.5 Relationships (other then CEDA) present in the data</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#all-persons-are-members-of-at-least-one-ceda">7.6 All persons are members of at least one CEDA</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#quakers-and-their-relationships">7.7 Quakers and their relationships</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#working-with-a-variety-of-datatables">7.8 Working with a variety of datatables</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-complete-dataset">A ‘complete’ dataset</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#an-incomplete-dataset">An ‘incomplete’ dataset</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#an-irregular-dataset">An ‘irregular’ dataset</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction-to-bigraph-analysis">7.9 Introduction to bigraph analysis</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bigraph-data-statistics">Bigraph data statistics</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#locations">7.10 Locations</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#top-10-locations-pie-chart">Top 10 locations pie chart</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#top-10-locations-bigraph">Top 10 locations bigraph</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#occupations">7.11 Occupations</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#top-10-occupations-pie-chart">Top 10 occupations pie chart</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#top-10-occupations-bigraph">Top 10 occupations bigraph</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#societies">7.12 Societies</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#top-10-societies-pie-chart">Top 10 societies pie chart</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#top-10-societies-bigraph">Top 10 societies bigraph</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#cubs">7.13 Cubs</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#most-popular-bipartite-networks-combined">7.14 Most popular bipartite networks combined</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#iterative-section-1-this-is-an-iterative-workbook">7.15 Iterative Section 1 - (This is an iterative workbook)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#listing-out-the-data">7.16 listing out the data</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#use-pyplot-to-make-an-inital-visualisation-of-the-data">7.17 Use pyplot to make an inital visualisation of the data</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#iterative-section-2-prepare-the-data-for-rendering-as-a-graph-in-gephi">7.18 Iterative Section 2 - prepare the data for rendering as a graph in Gephi</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#caution-this-section-depends-on-the-selections-made-under-iterative-section-1-above">Caution - this section depends on the selections made under ‘Iterative Section 1’ above</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#stage-2-bipartite-analysis-with-noise-removed">7.19 Stage 2 - Bipartite analysis with ‘noise’ removed</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#simplified-graphs-can-be-analysed-more-easily">7.20 Simplified graphs can be analysed more easily</a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="p7-chapter-7-project-seven-presentation">
<h1>P7 Chapter 7 Project Seven presentation<a class="headerlink" href="#p7-chapter-7-project-seven-presentation" title="Link to this heading">#</a></h1>
<section id="thesis-chapter-6-24">
<h2>Thesis Chapter 6.24<a class="headerlink" href="#thesis-chapter-6-24" title="Link to this heading">#</a></h2>
<p>File name: jnb_hddt_qsra_september_2021</p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="an-evidence-based-prosopographical-study-of-3000-activists-1830-1870-and-the-600-quakers-amongst-them">
<h1>7.1 An Evidence Based Prosopographical study of 3000 activists 1830-1870 and the 600 Quakers amongst them<a class="headerlink" href="#an-evidence-based-prosopographical-study-of-3000-activists-1830-1870-and-the-600-quakers-amongst-them" title="Link to this heading">#</a></h1>
<section id="subject">
<h2>Subject:<a class="headerlink" href="#subject" title="Link to this heading">#</a></h2>
<p>My own research has revealed the extensive social connectivity between the roughly 600 members of a ‘Quaker Led Network (QLN)’ and their involvement within a community of  roughly 3000 persons, spread across four organisations in Britain active between 1830 and 1870, which the QLN network helped to set up and staff. I call these, the ‘Centres for the Emergence of Discipline of Anthropology in Britain’ (CEDA).</p>
</section>
<section id="question-1">
<h2>Question 1:<a class="headerlink" href="#question-1" title="Link to this heading">#</a></h2>
<p>What can be revealed if a historian uses data science to study a large historical community over a long period of time by bringing together and integrating metadata from catalogues, indexes, and genealogical data?</p>
</section>
<section id="methodology">
<h2>Methodology:<a class="headerlink" href="#methodology" title="Link to this heading">#</a></h2>
<p>I have designed, built and I am now using a suite of open-source and reproducible relational database technologies and digital analytic tools to visualise and scrutinise the entire community of some 3000 activists over 40 years (1830-1870), picking out the Quakers amongst them so that the community can be explored at both group and individual level. I am able to model the ‘connected’ relationships between the individual members of the CEDA through time, including kinship, education, occupations, locations and organisations.</p>
</section>
<section id="question-2">
<h2>Question 2:<a class="headerlink" href="#question-2" title="Link to this heading">#</a></h2>
<p>What is the extent of Quaker involvement in the CEDA, over the 40 year time span researched, and was Quaker kinship as socially cohesive as (say) education or occupation amongst the wider community?</p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="this-is-a-code-cell">
<h1>7.2 This is a code cell<a class="headerlink" href="#this-is-a-code-cell" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># First we call up the python packages we need to perform the analysis:</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rc</span><span class="p">(</span><span class="s1">&#39;figure&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">IPython.display</span><span class="w"> </span><span class="kn">import</span> <span class="n">set_matplotlib_formats</span>
<span class="n">set_matplotlib_formats</span><span class="p">(</span><span class="s1">&#39;png&#39;</span><span class="p">,</span> <span class="s1">&#39;pdf&#39;</span><span class="p">)</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">operator</span><span class="w"> </span><span class="kn">import</span> <span class="n">itemgetter</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">networkx</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">nx</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">networkx.algorithms</span><span class="w"> </span><span class="kn">import</span> <span class="n">community</span> <span class="c1">#This part of networkx, for community detection, needs to be imported separately.</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">nbconvert</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">csv</span>

<span class="c1"># &lt;img src=&quot;xxxx.png&quot;&gt;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">line</span> <span class="mi">5</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="ne">----&gt; </span><span class="mi">5</span> <span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> <span class="n">plt</span><span class="o">.</span><span class="n">rc</span><span class="p">(</span><span class="s1">&#39;figure&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span> <span class="kn">from</span><span class="w"> </span><span class="nn">IPython.display</span><span class="w"> </span><span class="kn">import</span> <span class="n">set_matplotlib_formats</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;matplotlib&#39;
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="these-are-the-resources-in-my-container-for-this-exercise">
<h1>7.3 These are the resources in my container for this exercise<a class="headerlink" href="#these-are-the-resources-in-my-container-for-this-exercise" title="Link to this heading">#</a></h1>
<section id="resource-containers-are-also-github-repo-s-facilitating-granular-version-control-of-all-changes-made-to-any-resources">
<h2>Resource containers are also GitHub repo’s facilitating granular version control of all changes made to any resources<a class="headerlink" href="#resource-containers-are-also-github-repo-s-facilitating-granular-version-control-of-all-changes-made-to-any-resources" title="Link to this heading">#</a></h2>
<img src="resources.png"></section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="this-is-the-structure-of-the-sqlite-database-erd">
<h1>7.4 This is the structure of the SQLite database (ERD)<a class="headerlink" href="#this-is-the-structure-of-the-sqlite-database-erd" title="Link to this heading">#</a></h1>
<img src="ERD.png"></section>
<section class="tex2jax_ignore mathjax_ignore" id="relationships-other-then-ceda-present-in-the-data">
<h1>7.5 Relationships (other then CEDA) present in the data<a class="headerlink" href="#relationships-other-then-ceda-present-in-the-data" title="Link to this heading">#</a></h1>
<img src="bipartite_10.png"><p>This graph shows all of the popular bigraph data in the database. Including all data would result in a ‘hairball’ where data would be too dense to be capable of analysis at this (the highest) level. (See Most popular entities section below)</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="all-persons-are-members-of-at-least-one-ceda">
<h1>7.6 All persons are members of at least one CEDA<a class="headerlink" href="#all-persons-are-members-of-at-least-one-ceda" title="Link to this heading">#</a></h1>
<img src="ceda.png">
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Society</p></th>
<th class="head"><p>abv.</p></th>
<th class="head"><p>Dates</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Quaker Committee on the Aborigines*</p></td>
<td><p>QCA</p></td>
<td><p>1832/37 - 1846</p></td>
</tr>
<tr class="row-odd"><td><p>Aborigines Protection Society</p></td>
<td><p>APS</p></td>
<td><p>1837 - 1919</p></td>
</tr>
<tr class="row-even"><td><p>Ethnological Society of London</p></td>
<td><p>ESL</p></td>
<td><p>1843 - 1871</p></td>
</tr>
<tr class="row-odd"><td><p>Anthropological Society of London</p></td>
<td><p>ASL</p></td>
<td><p>1863 - 1871</p></td>
</tr>
<tr class="row-even"><td><p>Anthropological Institute</p></td>
<td><p>AI</p></td>
<td><p>1843 - 1871</p></td>
</tr>
<tr class="row-odd"><td><p>London Anthropological Society**</p></td>
<td><p>LAS</p></td>
<td><p>1873 - 1874</p></td>
</tr>
</tbody>
</table>
</div>
<ul class="simple">
<li><p>Origin Society included in this project but not recognised by RAI.
** not included in this project (beyond 1871 cut off date).</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="quakers-and-their-relationships">
<h1>7.7 Quakers and their relationships<a class="headerlink" href="#quakers-and-their-relationships" title="Link to this heading">#</a></h1>
<img src="quakers.png"></section>
<section class="tex2jax_ignore mathjax_ignore" id="working-with-a-variety-of-datatables">
<h1>7.8 Working with a variety of datatables<a class="headerlink" href="#working-with-a-variety-of-datatables" title="Link to this heading">#</a></h1>
<section id="a-complete-dataset">
<h2>A ‘complete’ dataset<a class="headerlink" href="#a-complete-dataset" title="Link to this heading">#</a></h2>
<p>Would be one like this, where all of the data can be contained witin a perfect rectangular block of cells (‘containers’) and every container contains only one data item and every data item can be located by the coordinates ‘Row n, Column n’</p>
<img src="data 1.png">
</section>
<section id="an-incomplete-dataset">
<h2>An ‘incomplete’ dataset<a class="headerlink" href="#an-incomplete-dataset" title="Link to this heading">#</a></h2>
<p>When historical data is used often some data is missing (permanently lost) and the HDDT is able to accept ‘Incomplete’ datasets. The HDDT does not lose functionality because of the incomplete nature of much historical data.</p>
<img src="data 2.png">
</section>
<section id="an-irregular-dataset">
<h2>An ‘irregular’ dataset<a class="headerlink" href="#an-irregular-dataset" title="Link to this heading">#</a></h2>
<p>The HDDT has been designed to accept Irregular datasets. The surviving evidence of the past is not only often Incomplete, it is frequently Irregular, where multiple datasets have different dimensions. (Either because the data in itself is intrinsically different or because different data collectors use different cataloguing methods)</p>
<img src="data 3.png">
<p>For the HDDT a qualifying dataset is a data set of any dimensions, complete, incomplete or irregular. The only requirement is that all datasets must contain a single common containing one universally shared data item. The HDDT requires all data sets to contain datatables that can be referenced to a PERSON (Name) in one of its rows.</p>
<p>Conflicts between dataset Person (Name)’s are resolved by adopting in this project by nominating the ‘RAI dataset’ as the ‘Authority Index’. With careful matching of Person (Name)’s found in other datasets, the RAI naming rule applies throughout.</p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="introduction-to-bigraph-analysis">
<h1>7.9 Introduction to bigraph analysis<a class="headerlink" href="#introduction-to-bigraph-analysis" title="Link to this heading">#</a></h1>
<section id="bigraph-data-statistics">
<h2>Bigraph data statistics<a class="headerlink" href="#bigraph-data-statistics" title="Link to this heading">#</a></h2>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Table</p></th>
<th class="head"><p>Rows</p></th>
<th class="head"><p>Columns</p></th>
<th class="head"><p>Exc?</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ceda</p></td>
<td><p>6</p></td>
<td><p>1</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>person_ceda</p></td>
<td><p>3894</p></td>
<td><p>4</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>club</p></td>
<td><p>68</p></td>
<td><p>1</p></td>
<td><p>*</p></td>
</tr>
<tr class="row-odd"><td><p>person_club</p></td>
<td><p>323</p></td>
<td><p>2</p></td>
<td><p>*</p></td>
</tr>
<tr class="row-even"><td><p>location</p></td>
<td><p>83</p></td>
<td><p>1</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>person_location</p></td>
<td><p>2061</p></td>
<td><p>2</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>occupation</p></td>
<td><p>93</p></td>
<td><p>1</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>person_occupation</p></td>
<td><p>1883</p></td>
<td><p>2</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>society</p></td>
<td><p>260</p></td>
<td><p>1</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>person_society</p></td>
<td><p>1238</p></td>
<td><p>2</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
<ul class="simple">
<li><p>Due to low levels of poulation of 67 other clubs only the Athenaeum Club is included in analysis</p></li>
</ul>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="locations">
<h1>7.10 Locations<a class="headerlink" href="#locations" title="Link to this heading">#</a></h1>
<section id="top-10-locations-pie-chart">
<h2>Top 10 locations pie chart<a class="headerlink" href="#top-10-locations-pie-chart" title="Link to this heading">#</a></h2>
<img src="location10_pie.png"></section>
<section id="top-10-locations-bigraph">
<h2>Top 10 locations bigraph<a class="headerlink" href="#top-10-locations-bigraph" title="Link to this heading">#</a></h2>
<img src="location10_bigraph.png">
<p>We can see that London and ‘country’(sic) are the most populated locations. Because the ‘country’ location is an aggregate (and not a specific location) we can think of London and ‘country’ as a twin centre. Within the twin centre we can see the members of both London and ‘country’ locations and that the members of each are highly networked. We can also see that the London location contains many members who have no association with any other group (including ‘country’). London 1830 - 1870, was densely populated and so it is possible that members of the London location had other modes of association. Because the ‘country’ location is an aggregate we cannot make the same analysis to the same extent, it is possible that many members in (say) Newcastle had no association with other members in (say) Bristol. We can see the large group of members who were members of both London and ‘country’ locations. It is highly likely that these members served as conduits of communication and group cohesion. It is interesting to note that only 3 members of this London and ‘country’ group were members of groups outside of the twin centre.</p>
<p>Eight other location each have a membership of around 30 members (we can call these the satellites), all of the satellite groups relate directly to the twin centre with very few members associated with more that one satellite location.</p>
<p>Australia and Ireland have associations with both London and ‘country’. The German location is most closely associated with the ‘country’ group. All of the other locations are strongly associated with the London location.</p>
<p>Germany (far right) is the location least associated with London. Alex Nidda Genthe is the only member from Germany who is also a member of the London location. Friedrich Max Muller, Frederick Augustus Haverick and Gustav Oppert each network with ‘country’ members. William Wilson Hunter is the only ‘country’ member who also appears in the Germany location. He and Gustav oppert also have a location connection with India.</p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="occupations">
<h1>7.11 Occupations<a class="headerlink" href="#occupations" title="Link to this heading">#</a></h1>
<section id="top-10-occupations-pie-chart">
<h2>Top 10 occupations pie chart<a class="headerlink" href="#top-10-occupations-pie-chart" title="Link to this heading">#</a></h2>
<img src="occupation10_pie.png">
</section>
<section id="top-10-occupations-bigraph">
<h2>Top 10 occupations bigraph<a class="headerlink" href="#top-10-occupations-bigraph" title="Link to this heading">#</a></h2>
<img src="occupation10_bigraph.png"><p>We can see that ‘medical’,’academic’ and ‘armed services’ together account for half of the members by occupation. We can also see that the largest three occupational categories each contain many members who have no association with any other occupational group. We can see that the medical categories contain many members who are also members of the other two principal categories (‘academic’ and ‘armed services’). It is highly likely that these members served as conduits of communication and group cohesion amongst the three principal occupational cegories.</p>
<p>Seven other occupations each have a range of members with literary the lowest and business the highest. All of the satellite groups relate directly to the triple centre with many members also associated with more that one other satellite occupation.</p>
<p>It is surprising the the least networked occupation is ‘church’ and perhaps less so that ‘business’ and ‘legal’are highly networked.</p>
<p>Several individuals form a web of interconnectedness between the members occupations.</p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="societies">
<h1>7.12 Societies<a class="headerlink" href="#societies" title="Link to this heading">#</a></h1>
<section id="top-10-societies-pie-chart">
<h2>Top 10 societies pie chart<a class="headerlink" href="#top-10-societies-pie-chart" title="Link to this heading">#</a></h2>
<img src="society10_pie.png"></section>
<section id="top-10-societies-bigraph">
<h2>Top 10 societies bigraph<a class="headerlink" href="#top-10-societies-bigraph" title="Link to this heading">#</a></h2>
<img src="society10_bigraph.png"><p>We can see that ‘Geological Society’ and the ‘Royal Goegraphical Society’ together account for a significant number of members by society. The ‘Royal College of Surgeons’, the ‘Medical and Chirurgical Society’ and the ‘College of Physicians’ form the next largest cluster of memberships of societies. These two clusters each contain many members who have no association with any other society. We can see that the medical group and the geographical group have few members in common. The ‘Royal Society’ and the ‘Linnean Society’ in the centre have between them the greatest level of networking amongst all of the societies. It is highly likely that these members served as conduits of communication and group cohesion amongst the two principal society groups.</p>
<p>Many other societies have a range of members all of whom are highly interconnected. All of the satellite groups relate most closely to the ‘Royal Society’ and the ‘Linnean Society’ rather than to the two larger clusters. Many members of the smaller satellite societies are also associated with more that one other satellite occupation.</p>
<p>It is surprising the the least networked occupation is the ‘Royal College of Surgeons’ and perhaps less so that the ‘Geological Society’ and the ‘Royal Geographical Society’ are highly networked.</p>
<p>Several individuals form a web of interconnectedness between the members of societies.</p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="cubs">
<h1>7.13 Cubs<a class="headerlink" href="#cubs" title="Link to this heading">#</a></h1>
<img src="club.png">
<p>Clubs will not be analysed in this project but the Athenaeum club can be used as an attribute (because it is a singularity).</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="most-popular-bipartite-networks-combined">
<h1>7.14 Most popular bipartite networks combined<a class="headerlink" href="#most-popular-bipartite-networks-combined" title="Link to this heading">#</a></h1>
<p>1850 members of the community are recorded as members of 35 popular entities (Locations, occupations, societies and the Athenaeum Club). These entities make a sphere of popular interest graph where meetings between members concerning the CEDA may have taken place, equally they may also be places where members might meet up only infrequently or informally. The visual analysis of connectivity between members in single societies and between members of multiple societies indicates the extent that the community is societally connected. The 1850 make up 60% of the entire community.</p>
<p>The graph at the head of this notebook shows the 1850 distributed by popular entity membership with the connectivity between them reflected in those members who are associated with more than one entity.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="iterative-section-1-this-is-an-iterative-workbook">
<h1>7.15 Iterative Section 1 - (This is an iterative workbook)<a class="headerlink" href="#iterative-section-1-this-is-an-iterative-workbook" title="Link to this heading">#</a></h1>
<p>As can be seen in the illustrative graph above which has been produced in Gephi by the code cells below to provide an initial overview of the data and its distribution, the graph might be made more meaningful if it did not include societies sparsely populated.</p>
<p>The code cell below and the code cells in the section Iterative Section 2 (below) have therefore been designed so that a second run through the workbook can be made where the second run uses data that excludes low populated occupations identified in the first run through.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Second we call up the csv files generated from the SQL database that contain information about </span>
<span class="c1"># locations and the community members associated with locations. As well as enabling the locations to be listed </span>
<span class="c1"># we produce a &#39;node_names&#39; file and a tuples file of edges_attributes to generate the files need to </span>
<span class="c1"># produce GefX files for Gephi.</span>

<span class="c1"># We can run the code cell twice, first with all data and once all data has been examined</span>
<span class="c1"># and a decision made to exclude &#39;noise&#39; the code block can be run again with newly generated </span>
<span class="c1"># csv files that exclude low populated locations.</span>

<span class="c1">#bipartite_10 = pd.read_csv (&#39;vw_bipartite_10_names2_202108041622.csv&#39;)</span>
<span class="n">bipartite_pick</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;vw_bipartite_pick_names2_202108051321.csv&#39;</span><span class="p">)</span>

<span class="c1"># Use these csv files in the &#39;with open&#39; statements below to generate bipartite_10.gexf</span>
<span class="c1">#names = pd.read_csv (&#39;vw_bipartite_10_names_1_2_202108041606.csv&#39;)# For nodes csv</span>
<span class="c1">#tuples = pd.read_csv (&#39;vw_bipartite_10_202108041605.csv&#39;)# For edges.csv</span>

<span class="c1"># Use these csv files in the &#39;with open&#39; statements below to generate locations_10.gexf</span>
<span class="n">bipartite_pick_names</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span> <span class="p">(</span><span class="s1">&#39;vw_bipartite_pick_names_1_2_202108051304.csv&#39;</span><span class="p">)</span> <span class="c1"># For nodes csv</span>
<span class="n">bipartite_pick_tuples</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span> <span class="p">(</span><span class="s1">&#39;vw_bipartite_pick_202108051303.csv&#39;</span><span class="p">)</span> <span class="c1"># For edges.csv</span>


<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;vw_bipartite_pick_names_1_2_202108051304.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">nodecsv</span><span class="p">:</span> <span class="c1"># Open the Nodes csv file</span>
    <span class="n">nodereader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">nodecsv</span><span class="p">)</span> <span class="c1"># Read the csv</span>
    <span class="n">nodes</span> <span class="o">=</span> <span class="p">[</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">nodereader</span><span class="p">][</span><span class="mi">1</span><span class="p">:]</span><span class="c1"># Retrieve the data (using Python list comprhension and list slicing</span>
                                       <span class="c1"># to remove the header row</span>
    <span class="n">node_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">n</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">nodes</span><span class="p">]</span> <span class="c1"># Get a list of only the node names</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;vw_bipartite_pick_202108051303.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">edgecsv</span><span class="p">:</span> <span class="c1"># Open the file</span>
    <span class="n">edgereader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">edgecsv</span><span class="p">)</span> <span class="c1"># Read the csv</span>
    <span class="n">edge_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">edgereader</span><span class="p">)</span> <span class="c1"># Convert to list, so can iterate below in for loop</span>
    
    <span class="c1"># Create empty arrays to store edge data and edge attribute data</span>
    <span class="n">edges</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">edges_attributes</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="c1"># Fill the arrays with data from CSV</span>
    <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">edge_list</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
        <span class="n">edges</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]))</span> <span class="c1"># Get the first 2 columns (source, target) and add to array</span>
        <span class="c1"># not used this time. edges_attributes.append(tuple(e[2:4])) </span>
        <span class="c1"># Get the 3rd and 4th columns (first_year, last_year) and add to array</span>
    
<span class="n">edge_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">edges</span><span class="p">]</span> <span class="c1"># Get a list of only the edge names   </span>
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="listing-out-the-data">
<h1>7.16 listing out the data<a class="headerlink" href="#listing-out-the-data" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># List out the societies to be analysed</span>

<span class="c1"># bipartite_10</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># List out the community members who have been associated with at least one selected entity.</span>

<span class="c1"># names</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Finally list out the tuples of members and societies </span>
<span class="c1"># (Note - some members are associated with more that one society)</span>

<span class="c1"># tuples</span>
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="use-pyplot-to-make-an-inital-visualisation-of-the-data">
<h1>7.17 Use pyplot to make an inital visualisation of the data<a class="headerlink" href="#use-pyplot-to-make-an-inital-visualisation-of-the-data" title="Link to this heading">#</a></h1>
<p>We can see that many occupations are thinly populated.</p>
<p>We can also see that whilst ‘Royal college of Surgeons’,’Geological Society’ and ‘Royal Geographical Society’ are the largest societal segments several other occupations are well represented.</p>
<p>none of the inital segmentation requires qualification.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tuples</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Target&#39;</span><span class="p">)[</span><span class="s1">&#39;Source&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;pie&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span> <span class="p">(</span><span class="s2">&quot;Popular_bipartite id&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span> <span class="p">(</span><span class="s2">&quot;Group&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span> <span class="p">(</span><span class="s2">&quot;Number of persons&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">6</span><span class="o">-</span><span class="n">b54b19db52e7</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">tuples</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Target&#39;</span><span class="p">)[</span><span class="s1">&#39;Source&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;pie&#39;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">plt</span><span class="o">.</span><span class="n">title</span> <span class="p">(</span><span class="s2">&quot;Popular_bipartite id&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span> <span class="p">(</span><span class="s2">&quot;Group&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span> <span class="p">(</span><span class="s2">&quot;Number of persons&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="ne">NameError</span>: name &#39;tuples&#39; is not defined
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="iterative-section-2-prepare-the-data-for-rendering-as-a-graph-in-gephi">
<h1>7.18 Iterative Section 2 - prepare the data for rendering as a graph in Gephi<a class="headerlink" href="#iterative-section-2-prepare-the-data-for-rendering-as-a-graph-in-gephi" title="Link to this heading">#</a></h1>
<section id="caution-this-section-depends-on-the-selections-made-under-iterative-section-1-above">
<h2>Caution - this section depends on the selections made under ‘Iterative Section 1’ above<a class="headerlink" href="#caution-this-section-depends-on-the-selections-made-under-iterative-section-1-above" title="Link to this heading">#</a></h2>
<p>If the initial analysis suggests that a more insightful visualisation might be made by refing the data to be analysed, return to the database and make a new Nodes (Names) csv file and a new Tuples csv file conaining only well populated groups.</p>
<p>Then return to Iterative Section 1 codeblock in the workbook and replace the csv files in the ‘with open’ code lines with the refined datasets.</p>
<p>Finally reset the nx.write_gexf (xxx.gexf) xxx statement to a new file name.</p>
<p>Then run all code blocks again and make a more insightful gexf file. Use that to produce an improved network graph for Stage 2 analysis.</p>
<p>Warning. - Ensure that the statement ‘nx.write_gexf’ in the last code cell in this section points to a new output file for Gephi. (eg., G, ‘xxxx_10.gexf’)Failure to set this value correctly will result in the previously generated .gexf file being overwritten instead.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Nodes length: &quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">node_names</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Edges length: &quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">edges</span><span class="p">))</span>
<span class="c1"># not used this time. print(&quot;Edges attributes length: &quot;, len(edges_attributes)) # This should be the same length as edges</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># First check that the data is correctly formatted</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;First 5 nodes:&quot;</span><span class="p">,</span> <span class="n">node_names</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;First 5 edges:&quot;</span><span class="p">,</span> <span class="n">edges</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">])</span>
<span class="c1"># not used this time. print(&quot;First 5 edges attributes:&quot;, edges_attributes[0:5])</span>

<span class="c1"># The output will appear below this code cell.</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># We use NetworkX to build the graph data into a table</span>

<span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">()</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_nodes_from</span><span class="p">(</span><span class="n">node_names</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_edges_from</span><span class="p">(</span><span class="n">edges</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">G</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Finally we can write a gexf file which will be placed in the root directory.</span>
<span class="c1"># We can then open the file in Gephi and visualise the network.</span>

<span class="c1">#nx.write_gexf(G, &#39;bipartite_pick.gexf&#39;)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="stage-2-bipartite-analysis-with-noise-removed">
<h1>7.19 Stage 2 - Bipartite analysis with ‘noise’ removed<a class="headerlink" href="#stage-2-bipartite-analysis-with-noise-removed" title="Link to this heading">#</a></h1>
<p>We now re-run the code to generate a new gexf file for gephi. We use the refined pair of nodes (Names) and Tuples files generated in the SQL database that include only the top 17 groups.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bipartite_pick</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bipartite_pick_tuples</span>
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="simplified-graphs-can-be-analysed-more-easily">
<h1>7.20 Simplified graphs can be analysed more easily<a class="headerlink" href="#simplified-graphs-can-be-analysed-more-easily" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bipartite_pick_tuples</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Target&#39;</span><span class="p">)[</span><span class="s1">&#39;Source&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;pie&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span> <span class="p">(</span><span class="s2">&quot;Bipartite_pick id&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span> <span class="p">(</span><span class="s2">&quot;Groups&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span> <span class="p">(</span><span class="s2">&quot;Number of persons&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<img src="bipartite_pick.png"><p>The community members most well connected (60%) are densely networked indicating that the CEDA members are able to bring to the task of developing the discipline of anthropology in Britain considerable shared skills, information and knowledge.</p>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./chapters"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="6_quaker_tables.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">P7 Chapter 6 Case Study 2 589 Quakers and their family relationships</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">P7 Chapter 7 Project Seven presentation</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#thesis-chapter-6-24">Thesis Chapter 6.24</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#an-evidence-based-prosopographical-study-of-3000-activists-1830-1870-and-the-600-quakers-amongst-them">7.1 An Evidence Based Prosopographical study of 3000 activists 1830-1870 and the 600 Quakers amongst them</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#subject">Subject:</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#question-1">Question 1:</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#methodology">Methodology:</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#question-2">Question 2:</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#this-is-a-code-cell">7.2 This is a code cell</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#these-are-the-resources-in-my-container-for-this-exercise">7.3 These are the resources in my container for this exercise</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#resource-containers-are-also-github-repo-s-facilitating-granular-version-control-of-all-changes-made-to-any-resources">Resource containers are also GitHub repo’s facilitating granular version control of all changes made to any resources</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#this-is-the-structure-of-the-sqlite-database-erd">7.4 This is the structure of the SQLite database (ERD)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#relationships-other-then-ceda-present-in-the-data">7.5 Relationships (other then CEDA) present in the data</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#all-persons-are-members-of-at-least-one-ceda">7.6 All persons are members of at least one CEDA</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#quakers-and-their-relationships">7.7 Quakers and their relationships</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#working-with-a-variety-of-datatables">7.8 Working with a variety of datatables</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-complete-dataset">A ‘complete’ dataset</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#an-incomplete-dataset">An ‘incomplete’ dataset</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#an-irregular-dataset">An ‘irregular’ dataset</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction-to-bigraph-analysis">7.9 Introduction to bigraph analysis</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bigraph-data-statistics">Bigraph data statistics</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#locations">7.10 Locations</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#top-10-locations-pie-chart">Top 10 locations pie chart</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#top-10-locations-bigraph">Top 10 locations bigraph</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#occupations">7.11 Occupations</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#top-10-occupations-pie-chart">Top 10 occupations pie chart</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#top-10-occupations-bigraph">Top 10 occupations bigraph</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#societies">7.12 Societies</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#top-10-societies-pie-chart">Top 10 societies pie chart</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#top-10-societies-bigraph">Top 10 societies bigraph</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#cubs">7.13 Cubs</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#most-popular-bipartite-networks-combined">7.14 Most popular bipartite networks combined</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#iterative-section-1-this-is-an-iterative-workbook">7.15 Iterative Section 1 - (This is an iterative workbook)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#listing-out-the-data">7.16 listing out the data</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#use-pyplot-to-make-an-inital-visualisation-of-the-data">7.17 Use pyplot to make an inital visualisation of the data</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#iterative-section-2-prepare-the-data-for-rendering-as-a-graph-in-gephi">7.18 Iterative Section 2 - prepare the data for rendering as a graph in Gephi</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#caution-this-section-depends-on-the-selections-made-under-iterative-section-1-above">Caution - this section depends on the selections made under ‘Iterative Section 1’ above</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#stage-2-bipartite-analysis-with-noise-removed">7.19 Stage 2 - Bipartite analysis with ‘noise’ removed</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#simplified-graphs-can-be-analysed-more-easily">7.20 Simplified graphs can be analysed more easily</a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Kelvin Beer-Jones
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>